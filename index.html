<!DOCTYPE html>
<html ng-app="input_list">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="http://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.3/angular.min.js"> </script>
    <script 
        src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script src="app/js/highcharts-custom.js"></script>
    <script src="app/controllers/input_list.js"></script>
    <script src="app/services/one_var_stats.js"></script>
    <!--<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>-->
    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" />-->
    <link rel="stylesheet" href="https://bootswatch.com/cosmo/bootstrap.min.css" />
    <script src="app/js/ui-bootstrap-custom-tpls-0.13.0.min.js"></script>
    <script type="text/javascript"> 
        $(window).load(function(){$('#githubmodal').modal("show");});
    </script>
</head>

<body>
      <div class="modal fade" id="githubmodal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title">Info</h4></div><div class="modal-body"><p>This is a testing page. It is licensed under the GNU GPL v3, so please contact gderecho at github if you would like a copy of the source.</p> </div> <div class="modal-footer"><button type="button" class="btn btn-default" data-dismiss="modal">Close</button> </div> </div></div></div>
    <!-- Put title here -->
    <!-- Put scrolling options
        to choose calculation type
        here -->
    <nav class="navbar navbar-default"> 
        <div class="navbar-header">
            <a class="navbar-brand" href="#">Stats</a>
        </div>
        <div class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
            <li class="active"><a href="#">One-variable statistics</a></li>
            <li><a href="#">Statistical hypothesis tests</a></li>
        </ul>
        </div>

    </nav>
    <div class="container">
    <h1>One-variable Statistics Calculator</h1>
    <form 
            ng-controller="input_list_ctrl as inctrl"
            name="input_list"
            ng-submit="inctrl.get_stats()"
            novalidate>
        <tabset>
        <tab heading="Manual Input">
            <div class="form-group">
                <label> Current Values </label>

                <div class="row">
                    <div class="col-sm-2" ng-repeat="input in inctrl.inputs">
                        <input ng-model="input.text" ng-blur="inctrl.check_if_delete_inputs(input)"
                                                     ng-pattern="inctrl.NUM_PATTERN"
                                                     class="form-control">
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label>Please enter your values below:</label>
                <input
                 ng-repeat="input in inctrl.editing"
                 ng-model="input.text"
                 ng-blur="inctrl.check_if_delete_editing(input)"
                 ng-change="inctrl.check_if_add(input)"
                 ng-pattern="inctrl.NUM_PATTERN"
                 placeholder="Enter a value!"
                 class="form-control" style="width:auto" />
            </div>
        </tab>
            <tab heading="Bulk Input"><a>Bulk Input</a></tab>
            <tab heading="Other"><a>Other</a></tab>
        </tabset>

        <input  ng-disabled="input_list.$invalid" class="btn btn-primary"
                type="submit" value="Calculate one-variable statistics" />

        <table class="table">
            <tr ng-repeat="(key,data) in inctrl.stats">
                <td>{{inctrl.detail_desc[key]}}</td>
                <!-- <td>{{key}}</td> -->
                <td mathjax-bind="inctrl.symbolic_desc[key]"></td>
                <td mathjax-bind="data"></td>
            </tr>
        </table>

        <div class="hc-histogram" ng-if="inctrl.numbers.length != 0" values="inctrl.histogram_points" bins="inctrl.histogram_bins"></div>
    </form>
    </div>
</body>
</html>

